<template>
  <header class="sticky top-0 z-20 bg-base-100/80 backdrop-blur-md shadow-sm px-4 sm:px-6 lg:px-8 w-full">
    <div class="flex flex-col sm:flex-row justify-between items-center gap-3 py-3">
      <!-- Logo + Title -->
      <div class="flex items-center gap-3">
        <LazyNuxtImg
            width="48"
            height="48"
            src="/pokeball.png"
            alt="Logo PokÃ©dex"
            class="w-10 h-10"
        />
        <h1 class="text-xl sm:text-2xl font-bold text-light dark:text-neutral">
          {{ t('title') }}
        </h1>
      </div>

      <!-- Search Input -->
      <div class="flex w-full sm:w-auto items-center gap-3">
        <LanguageSwitcher />
        <SearchBar
            class="flex-grow"
            :pokemons="pokemons"
            @update:filtered="$emit('update:filtered', $event)"
        />
      </div>
    </div>
  </header>
</template>

<script setup lang="ts">
const { t } = useI18n()
import SearchBar from '~/components/SearchBar.vue'
import type { Pokemon } from '~/types/pokemon'

defineProps<{ pokemons: Pokemon[] }>()

defineEmits<{ (e: 'update:filtered', value: Pokemon[]): void }>()
</script>
